<!DOCTYPE html>

<html data-wf-domain="www.yuhuiqi.com">
	<head>
        <link rel="stylesheet" href="https://use.typekit.net/wvs7ihr.css"> 
        <!--font-family: "futura-pt", sans-serif; font-weight: 600; font-style: normal;-->
        <!--font-family: "linotype-didot", serif; font-weight: 700; font-style: normal;-->
		<meta charset="utf-8">
		<title>
			Collective Hudson | 1BidWins
		</title>
		<meta content="width=device-width, initial-scale=1" name="viewport">
		<link href="static/css/project-page.css" rel="stylesheet" type="text/css">
	</head>

	<body class="works-block-body">

        <div data-collapse="medium" data-animation="default" data-duration="400" data-easing="ease" data-easing2="ease" role="banner" class="navigation-bar w-nav">
            <div class="navbar-container w-container">
                <a href="index.html" class="brand-link w-nav-brand">
                    <div class="nav-brand-link">
                        YUHUI
                    </div>
                </a>
                <nav role="navigation" class="navigation-menu w-nav-menu">
                    <a href="index.html" class="navigation-link w-nav-link">
                        works
                    </a>
                    <a href="playground.html" class="navigation-link w-nav-link">
                        playground
                    </a>
                    <a href="https://drive.google.com/file/d/1GDh7A0q2EPbzfSmEoDu2TpZeVoKFcZbh/view?usp=sharing" target="_blank" class="navigation-link w-nav-link">
                        resume
                    </a>    
                    <a href="about.html" class="navigation-link w-nav-link">
                        About
                    </a>
                </nav>
                <div class="hamburger-button w-nav-button">
                    <div class="icon w-icon-nav-menu">
                    </div>
                </div>
            </div>
        </div>

		<div class="bgcanvas">
			<div class="w-embed">
				<canvas class="bgCanvas project1" id="glcanvas">
				</canvas>
			</div>
		</div>


		<header class="project-page-hero wf-section">
			<div class="project-title-container">
				<div class="project-hero-title">
					Collective Hudson | 1BidWins
				</div>
			</div>
			<div class="project-infocol-container w-row">
				<div class="column-projectinfo w-col w-col-5">
					<div id="w-node-e78d55f6-6348-f943-6fa2-162ebd42a82a-bd42a7ff" class="project-hero-intro">
						Unlock the Thrill of Bidding: Your Premier Auction Platform!
						<br>
						<br>
					</div>
					<div class="project-metainfo w-row">
						<div class="w-col w-col-6 w-col-small-6 w-col-tiny-6">
							<div id="w-node-e78d55f6-6348-f943-6fa2-162ebd42a805-bd42a7ff" class="project-metainfo-container">
								<div class="project-metainfo-tag">
									Type
								</div>
								<div class="project-metainfo-data">
									Web Design<br>UX/UI Design<br>User Research<br>Usability Testing<br>Visual Design<br>Branding Deisgn
								</div>
							</div>
							<div id="w-node-e78d55f6-6348-f943-6fa2-162ebd42a80e-bd42a7ff" class="project-metainfo-container">
								<div id="w-node-e78d55f6-6348-f943-6fa2-162ebd42a80f-bd42a7ff" class="project-metainfo-tag">
									Tools
								</div>
								<div class="project-metainfo-data">
									Figma<br>Adobe Illustrator<br>Adobe Photoshop
								</div>
							</div>
						</div>
						<div class="w-col w-col-6 w-col-small-6 w-col-tiny-6">
							<div id="w-node-e78d55f6-6348-f943-6fa2-162ebd42a817-bd42a7ff" class="project-metainfo-container">
								<div color="#00FFFF" class="project-metainfo-tag">
									Year
								</div>
								<div class="project-metainfo-data">
									2024
									<br><br>
								</div>
							</div>
							<div class="project-metainfo-container">
								<div class="project-metainfo-tag">
									Role
								</div>
								<div class="project-metainfo-data">
									Product Design<br>UI Design<br>UX Design
									<br><br>
								</div>
							</div>
							<!--<div class="project-metainfo-container">
								<div class="project-metainfo-tag">
									Collaborator
								</div>
								<div class="project-metainfo-data">
									Yongning Ding
								</div>
							</div>-->
						</div>
					</div>
				</div>
				<div class="column-projectcover w-col w-col-7">
					<img src="static/picture/1bidwins-cover.png" loading="lazy"
					alt="" sizes="(max-width: 479px) 67vw, (max-width: 767px) 83vw, (max-width: 991px) 50vw, (max-width: 5714px) 56vw, 3200px"
					class="project-coverimg">
				</div>
			</div>
		</header>





























        <div class="page-container"  style="padding-top: 100px;">

            <div class="page-unit"> 
                <div class="page-sec" style="font-family: futura-pt, sans-serif; font-weight: 600; font-style: normal;">
                    / 01 <span style="color: rgb(89, 39, 239);"> OVERVIEW </span>
                </div>
                <div class="page-sec" style="font-family: futura-pt, sans-serif; font-weight: 600; font-style: normal;">
                    Collective Hudson - 1BidWins is an online auction platform that offers a dual-focus approach, catering to both real estate and personal property auctions. The platform provides a diverse array of opportunities for users interested in both residential and commercial real estate, as well as fine art, jewelry, and collectibles. With a user-friendly interface, 1BidWins facilitates transparent and competitive bidding processes for a seamless auction experience.
                </div>
            </div>

            <div class="page-unit" style="padding-top: 100px;">
                <div class="page-sec" style="font-family: futura-pt, sans-serif; font-weight: 600; font-style: normal;">
                    / 02 <span style="color: rgb(89, 39, 239);"> RESEARCH AND ANALYSIS </span>
                </div>
                <div class="page-sec" style="font-family: futura-pt, sans-serif; font-weight: 600; font-style: normal;">
                    After conducting comprehensive research and analysis of the global market trends for auction platform,I unearthed valuable insights.
                    <br><br>
                    <a style="color: rgb(89, 39, 239);">Cometitive Analysis: </a>A comprehensive competitive analysis was conducted, with a focus on prominent participants in the global auction industry, including Christie's, Sotheby's, eBay, Realtor.com, etc. Specifically, backgrounds, websites, authority scores, visit metrics, bounce rates, search categories, and features were analyzed. More detailed information can be found in the enclosed <a style="color: rgb(253, 135, 135);" href="https://drive.google.com/file/d/1O9V1wT9LAnXERlXsRcETmoFcPcOdEfvy/view?usp=sharing" target="_blank">PDF document</a>. 
                </div>
            </div>

            <div class="page-unit" style="padding-top: 50px;">
                <div class="image-grid" style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px; justify-items: center;">
                    <img src="static/picture/1bidwins-brand-01.png" style="display: block; width: 75%;">
                    <img src="static/picture/1bidwins-brand-02.png" style="display: block; width: 75%;">
                    <img src="static/picture/1bidwins-brand-03.png" style="display: block; width: 75%;">
                    <img src="static/picture/1bidwins-brand-04.png" style="display: block; width: 75%;">
                    <img src="static/picture/1bidwins-brand-05.png" style="display: block; width: 75%;">
                    <img src="static/picture/1bidwins-brand-06.png" style="display: block; width: 75%;">
                    <img src="static/picture/1bidwins-brand-07.png" style="display: block; width: 75%;">
                    <img src="static/picture/1bidwins-brand-08.png" style="display: block; width: 75%;">
                </div>
            </div>

            <div class="page-unit" style="padding-top: 50px;">
                <div class="page-sec">
                </div>
                <div class="page-sec" style="font-family: futura-pt, sans-serif; font-weight: 600; font-style: normal;">
                    <a style="color: rgb(89, 39, 239);">Brand positioning: </a>Brand positioning is discerned by calculating a brand's social reach - adding the total followers a brand hasacross all social media platforms - and then contextualizing that against their website authority score. The following chart illustrates Collective Hudson's current brand positioning in relation to each of the brands reviewed in this Competitive Analysis.
                </div>
            </div>

            <div style="display: flex; justify-content: center;">
                <img src="static/picture/1bidwins-brand-positioning.png" style="width: 94.5%; height: auto; padding-top:50px; ">
            </div>

        </div>
            

        <div class="page-container">
            <div class="page-unit" style="padding-top: 100px;">
                <div class="page-sec" style="font-family: futura-pt, sans-serif; font-weight: 600; font-style: normal;">
                     / 03 <span style="color: rgb(89, 39, 239);"> MOODBOARD AND IDEATION </span>
                </div>
                <div class="page-sec" style="font-family: futura-pt, sans-serif; font-weight: 600; font-style: normal;">
                    After completing comprehensive market research and competitive analysis for the auction platform 1BidWins design project, I embarked on a brief conceptualization. 
                    <br><br>
                    I prioritized considerations such as user experience, visual appeal, color schemes and consistency, responsive design, security and trustworthiness, as well as personalized recommendations. By incorporating clean and intuitive interfaces, captivating visual elements, cohesive color palettes, responsive layouts for various devices, robust security measures, and personalized recommendation features, I aimed to create a comprehensive and engaging auction platform. This approach was intended to enhance user participation and satisfaction.
                </div>
            </div>

            <div style="flex: 1; display: flex; justify-content: center;">
                <img src="static/picture/1bidwins-moodboard.png" style="width: 94.5%; height: auto; padding-top:50px; ">
            </div>

            <div class="page-unit" style="padding-top: 100px;">
                <div class="page-sec" style="font-family: futura-pt, sans-serif; font-weight: 600; font-style: normal;">
                    / 04 <span style="color: rgb(89, 39, 239);"> BRANDING DESIGN </span>
                </div>
                <div class="page-sec" style="font-family: futura-pt, sans-serif; font-weight: 600; font-style: normal;">
                    Once the best design solution is identified, begin detailed UI design work, including designing interface elements, colors, fonts, etc. The goal at this stage is to ensure the design's usability and aesthetics.
                    <br><br>
                    <a style="color: rgb(89, 39, 239);">1 / Color palette: </a>The carefully curated color palette of 1BidWins is designed to enhance user experience and convey a sense of trustworthiness and professionalism. Drawing inspiration from traditional auction house aesthetics, the color scheme commands attention and lends prestige to the platform. Shades that exude reliability and integrity reassure users of the platform's credibility, while softer tones ensure clarity and readability, facilitating seamless interaction. This thoughtful selection of colors not only enhances the platform's visual appeal but also underscores its commitment to providing a secure and enjoyable auction experience for all users.
                </div>
            </div>

            <div style="flex: 1; display: flex; justify-content: center;">
                <img src="static/picture/1bidwins-color.png" style="width: 94.5%; height: auto; padding-top:50px; ">
            </div>

            <div class="page-unit" style="padding-top: 50px;">
                <div class="page-sec">
                </div>
                <div class="page-sec" style="font-family: futura-pt, sans-serif; font-weight: 600; font-style: normal;">
                    <a style="color: rgb(89, 39, 239);">2 / Logo design: </a>The logo design for the 1BidWins auction platform incorporates multiple elements to highlight the platform's uniqueness and value proposition. 
                    <br><br>
                    Firstly, the integration of the "1" and "B" elements from the platform's name forms a concise yet recognizable graphic. This fusion not only represents the platform's identity but also creates a symbol resembling a percentage sign, symbolizing the potential returns and opportunities inherent in auctions, further enhancing the platform's branding. The outermost frame symbolizes the secure and transparent trading environment provided by the platform, instilling confidence and assurance in users. 
                    <br><br>
                    The design of this logo aims to underscore 1BidWins as an innovative and trustworthy auction platform, emphasizing its commitment to addressing user needs.
                </div>
            </div>

            <div style="flex: 1; display: flex; justify-content: center;">
                <img src="static/picture/1bidwins-logo-02.png" style="width: 94.5%; height: auto; padding-top:50px; ">
            </div>
            <div style="flex: 1; display: flex; justify-content: center;">
                <img src="static/picture/1bidwins-logo-03.png" style="width: 94.5%; height: auto; padding-top:50px; ">
            </div>

            <div class="page-unit" style="padding-top: 50px;">
                <div class="page-sec">
                </div>
                <div class="page-sec" style="font-family: futura-pt, sans-serif; font-weight: 600; font-style: normal;">
                    <a style="color: rgb(89, 39, 239);">4 / Typography: </a>Determining the font, size, color, and arrangement of text to ensure clarity and readability of interface information.
                </div>
            </div>

            <div style="flex: 1; display: flex; justify-content: center;">
                <img src="static/picture/1bidwins-typography.png" style="width: 94.5%; height: auto; padding-top:50px; ">
            </div>

            <div class="page-unit" style="padding-top: 50px;">
                <div class="page-sec">
                </div>
                <div class="page-sec" style="font-family: futura-pt, sans-serif; font-weight: 600; font-style: normal;">
                    For a detailed look at 1BidWins branding design, check out the final brand book outcome <a style="color: rgb(253, 135, 135);" href="https://drive.google.com/file/d/1Gl7KXs7Yo9BeJOpY8xz2l8VA2f73PfYS/view?usp=sharing" target="_blank">here</a>.
                </div>
            </div>

            <div class="page-unit" style="padding-top: 100px;">
                <div class="page-sec" style="font-family: futura-pt, sans-serif; font-weight: 600; font-style: normal;">
                    / 05 <span style="color: rgb(89, 39, 239);"> WEB DESIGN </span>
                </div>
                <div class="page-sec" style="font-family: futura-pt, sans-serif; font-weight: 600; font-style: normal;">
                    <a style="color: rgb(89, 39, 239);">1 / User flow: </a>Define and optimize the user flow to ensure a seamless and intuitive experience. Identify key tasks and user journeys, and map out the steps users will take to accomplish their goals. 
                    <br><br>
                    The flow diagram of 1BidWins below briefly illustrates the user journey starting from the Home page, selecting the type of auction, then entering either Real Property or Personal Property sections, where users can perform actions such as viewing details, placing bids, and handling payments/delivery. Finally, users can access their profile, notifications, and help/support features.
                </div>
            </div>

            <div style="flex: 1; display: flex; justify-content: center; padding-top: 20px;">
                <img src="static/picture/1bidwins-user-flow.png" style="width: 150%; height: auto; ">
            </div>

            <div class="page-unit" style="padding-top: 100px;">
                <div class="page-sec">
                </div>
                <div class="page-sec" style="font-family: futura-pt, sans-serif; font-weight: 600; font-style: normal;">
                    <a style="color: rgb(89, 39, 239);">2 / Wireframing: </a>Create rough sketches or wireframes to outline the layout, structure, and flow of the interface. Focus on functionality and user interaction.
                </div>
            </div>
            <div style="flex: 1; display: flex; justify-content: center;">
                <img src="static/picture/1bidwins-wireframing.png" style="width: 100%; height: auto; padding-top: 50px;">
            </div>

            <div class="page-unit" style="padding-top: 100px;">
                <div class="page-sec">
                </div>
                <div class="page-sec" style="font-family: futura-pt, sans-serif; font-weight: 600; font-style: normal;">
                    <a style="color: rgb(89, 39, 239);">3 / Prototype and Implementation: </a>Develop interactive prototypes to simulate user interactions and test usability. Collaborate closely with developers to ensure accurate implementation of the design. Iterate on the prototype based on user feedback and make necessary adjustments.
                </div>
            </div>

            <div style="flex: 1; display: flex; justify-content: center;">
                <img src="static/picture/1bidwins-prototype-01.png" style="width: 100%; height: auto; padding-top: 50px;">
            </div>
            <div style="flex: 1; display: flex; justify-content: center;">
                <img src="static/picture/1bidwins-prototype-02.png" style="width: 94.5%; height: auto; padding-top: 20px;">
            </div>
            <div style="flex: 1; display: flex; justify-content: center;">
                <img src="static/picture/1bidwins-prototype-03.gif" style="width: 94.5%; height: auto; padding-top: 50px;">
            </div>

            <div class="page-unit" style="padding-top: 50px;">
                <div class="page-sec">
                </div>
                <div class="page-sec" style="font-family: futura-pt, sans-serif; font-weight: 600; font-style: normal;">
                    For a detailed look at Collective Hudson - 1BidWins web design, check out the final outcome <a style="color: rgb(253, 135, 135);" href="https://www.figma.com/proto/rI81naM6OHT6Qid4FubWcI/Honest-Media---1BidWins?type=design&node-id=4-568&t=7vBZrAJd55jPfBp3-1&scaling=scale-down&page-id=4%3A226&starting-point-node-id=4%3A568&mode=design" target="_blank">here</a>.
                </div>
            </div>

        </div>




























        
		<div class="footer wf-section">
			<div class="footer-text">
				Copyright © YUHUI QI 2023
			</div>
		</div>



		<script src="static/js/jquery-3.5.1.min.dc5e7f18c8.js" type="text/javascript"
		integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous">
		</script>
		<script src="static/js/webflow.87852ad41.js" type="text/javascript">
		</script>



		<script>
		const canvas = document.querySelector('.bgCanvas');

console.log(canvas.classList[1]);
let projects = document.querySelectorAll(".project-li");

canvas.width = window.innerWidth;
  //if canvas.classList.include("project"),canvas.height=window.innerHeight*1.3;
canvas.height = window.innerHeight*1.24;

//////////////////////////////////////////////
// vertex shader program 
const VS_SOURCE = `
    precision highp float;
    
    attribute vec4 aVertexPosition;
    
    void main(void) {
      gl_Position = aVertexPosition;
    }
`;

//////////////////////////////////////////////
//  fragment shader program
const FS_SOURCE = `
precision highp float;

uniform vec2 u_resolution;
uniform vec2 u_mouse;
uniform float u_time;
uniform vec3 u_color1;
uniform vec3 u_color2;
uniform vec3 u_color3;


vec3 mod289(vec3 x) {
    return x - floor(x * (1.0 / 289.0)) * 289.0;
}
vec2 mod289(vec2 x) {
    return x - floor(x * (1.0 / 289.0)) * 289.0;
}
vec3 permute(vec3 x) {
    return mod289(((x * 34.0) + 1.0) * x);
}
vec2 random2(vec2 st) {
    st = vec2(dot(st, vec2(97.1, 311.7)),
        dot(st, vec2(69.5, 183.3)));

    return -1.0 + 2.0 * fract(sin(st) * 43758.5453123);
}

float map(float value, float min1, float max1, float min2, float max2) {
    return min2 + (value - min1) * (max2 - min2) / (max1 - min1);
}

float snoise(vec2 v) {
    const vec4 C = vec4(0.211324865405187, // (3.0-sqrt(3.0))/6.0
        0.366025403784439, // 0.5*(sqrt(3.0)-1.0)
        -0.577350269189626, // -1.0 + 2.0 * C.x
        0.024390243902439); // 1.0 / 41.0
    vec2 i = floor(v + dot(v, C.yy));
    vec2 x0 = v - i + dot(i, C.xx);
    vec2 i1;
    i1 = (x0.x > x0.y) ? vec2(1.0, 0.0) : vec2(0.0, 1.0);
    vec4 x12 = x0.xyxy + C.xxzz;
    x12.xy -= i1;
    i = mod289(i); // Avoid truncation effects in permutation
    vec3 p = permute(permute(i.y + vec3(0.0, i1.y, 1.0)) +
        i.x + vec3(0.0, i1.x, 1.0));

    vec3 m = max(0.5 - vec3(dot(x0, x0), dot(x12.xy, x12.xy), dot(x12.zw, x12.zw)), 0.0);
    m = m * m;
    m = m * m;
    vec3 x = 2.0 * fract(p * C.www) - 1.0;
    vec3 h = abs(x) - 0.5;
    vec3 ox = floor(x + 0.5);
    vec3 a0 = x - ox;
    m *= 1.79284291400159 - 0.85373472095314 * (a0 * a0 + h * h);
    vec3 g;
    g.x = a0.x * x0.x + h.x * x0.y;
    g.yz = a0.yz * x12.xz + h.yz * x12.yw;
    return 130.0 * dot(m, g);
}

void main() {
    vec2 st = gl_FragCoord.xy / u_resolution.xy;
    st.x *= u_resolution.x / u_resolution.y;
    st.y += 0.5;

    vec3 color = vec3(0.625, 0.205, 0.235);
    float xoff = snoise(st + u_time * .015) * u_mouse.y / u_resolution.y * 0.1;
    vec2 pos = vec2(st * vec2(1., 2.2) * map(u_mouse.x, 0., u_resolution.x, 0.3, 0.4));


    float DF = 0.;

    // Add a random position
    vec2 vel = vec2(20.3, 0.6);
    DF += snoise(pos + vel) * map(u_mouse.x, 0., u_resolution.x, 0.2, 0.8);

    // Add a random position
    vel = vec2(u_mouse / u_resolution * 0.9);
    DF += snoise(pos + vel) * map(u_mouse.x, 0., u_resolution.x, 0.1, 0.8);
    DF += 0.37;
    vec3 color0 = vec3(0.0, 0.0, 0.0);
    vec3 color1 = vec3(0.9529, 0.3647, 0.1333);
    vec3 color2 = vec3(0.6902, 0.7255, 0.6549);
    vec3 color3 = vec3(0.1765, 0.3333, 0.7608);

    color = mix(color0, u_color1, smoothstep(0.1, 0.4, DF));
    color = mix(color, u_color2, smoothstep(0.3, 0.5, DF));
    color = mix(color, u_color3, smoothstep(0.4, 0.6, DF));
    color = mix(color, color0, smoothstep(0.4, 0.8, DF));


    //  color = vec3(smoothstep(.5, .75, fract(DF)));
    color += vec3(snoise(random2(st)) * 0.05);
    //color *= 0.1;


    gl_FragColor = vec4(color, 1.0);
}
`;


function initShaderProgram(gl, vsSource, fsSource) {
    const vertexshader = loadShader(gl, gl.VERTEX_SHADER, vsSource);
    const fragmentShader = loadShader(gl, gl.FRAGMENT_SHADER, fsSource);

    // Create the shader program and link fragment and vertex shader
    const shaderProgram = gl.createProgram();
    gl.attachShader(shaderProgram, vertexshader);
    gl.attachShader(shaderProgram, fragmentShader);
    gl.linkProgram(shaderProgram);

    // If creating the shader program failed, alert
    if (!gl.getProgramParameter(shaderProgram, gl.LINK_STATUS)) {
        alert('Unable to initialize the shader program: ' + gl.getProgramInfoLog(shaderProgram));
        return null;
    }
    return shaderProgram;
}
function loadShader(gl, type, source) {
    const shader = gl.createShader(type);

    // Send the source to the shader object
    gl.shaderSource(shader, source);
    gl.compileShader(shader);

    if (!gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {
        alert('An error occurred compiling the shaders: ' + gl.getShaderInfoLog(shader));
        gl.deleteShader(shader);
        return null;
    }
    return shader;
}
  
class BGColor {
    constructor() {
        this.switch = false;
     
        //current color pattern with three colors
        this.current = [
           // [0.9529, 0.3647, 0.1333],
           // [0.6902, 0.7255, 0.6549],
           // [0.1765, 0.3333, 0.7608]
             [0.7333, 0.302, 0.1451],
                    [0.5098, 0.6824, 0.5765],
                    [0.0941, 0.1294, 0.2627]
        ];
        this.target = [
          //  [0.9529, 0.3647, 0.1333],
          //  [0.6902, 0.7255, 0.6549],
          //  [0.1765, 0.3333, 0.7608]
             [0.7333, 0.302, 0.1451],
                    [0.5098, 0.6824, 0.5765],
                    [0.0941, 0.1294, 0.2627]
        ];
        //static
        this.colorPatternList = [
            {
                index: 0,//defualt
                id:"default",
                color: [
                    // [0.9529, 0.3647, 0.1333],
                    // [0.6902, 0.7255, 0.6549],
                    // [0.1765, 0.3333, 0.7608]
                    [0.7333, 0.302, 0.1451],
                    [0.5098, 0.6824, 0.5765],
                    [0.0941, 0.1294, 0.2627]
                ]
            },
          
            {
                index: 1,
                id:"mindful mood space",
                color: [
                    [0.233, 0.193, 0.241],
                    [0.203, 0.181, 0.246],
                    [0.114, 0.140, 0.218]
                ]
            },
           {
                index: 2,
                id:"vr smart car",
                color: [
                    [0.0627, 0.1725, 0.1451],
                    [0.149, 0.2157, 0.196],
                    [0.1176, 0.2118, 0.212]
                  
                ]
            },
           {
                index: 3,
                id:"bytedance interactive motion",
                color: [
                    [0.216, 0.36, 0.756],
                    [0.4471, 0.7804, 0.7451],
                    [0.304, 0.572, 0.856]
                ]
            },
            {
                index: 4,
                id:"music station",
                color: [
                    [0.6471, 0.7373, 0.8667],
                    [0.5137, 0.4314, 0.8],
                    [0.6471, 0.4824, 0.8392]
                ]
            },
            {
                index: 5,
                id:"you in my eyes",
                color: [
                    [0.5686, 0.3647, 0.4549],
                    [0.8275, 0.7529, 0.5373],
                    [0.9529, 0.6039, 0.6275] 
                ]
            },
            {
                index: 6,
                id:"perfect ear",
                color: [
                    [0.1569, 0.1059, 0.1804],
                    [0.5255, 0.3725, 0.1373],
                    [0.3686, 0.2588, 0.4941] 
                ]
            },
           
            {
                index: 7,
                id:"arctic",
                color: [
                    [0.5019, 0.6274, 0.6667],
                    [0.7137, 0.6824, 0.549],
                    [1.0, 0.9137, 0.8196]
                ],
            },
            {
                index: 8,
                id:"blessing lantern",
                color: [
                    [0.9529, 0.5254, 0.3882],
                    [0.9451, 0.6549, 0.3804],
                    [0.8588, 0.4118, 0.251]   

                    
                ]
            },
            {
                index: 9,
                id:"blue desert disco",
                color: [
                    [0.5059, 0.1607, 0.2823],
                    [0.7450, 0.7137, 0.7607],
                    [0.2627, 0.3019, 0.4039]

                ]
            },
        ];
    }
    setDefaultColor(colorIndex){
        let c = this.colorPatternList.find(item => {
            return item.index == colorIndex
        }).color;
        this.current[0]=[...c[0]];
        this.current[1]=[...c[1]];
        this.current[2]=[...c[2]];

        this.target = this.colorPatternList.find(item => {
            return item.index == colorIndex
        }).color;
    }
    setTargetColor(colorIndex) {
        this.target = this.colorPatternList.find(item => {
            return item.index == colorIndex
        }).color;
    }
    update() {
        
        let d = this.target[0][0] - this.current[0][0];
        this.switch = Math.abs(d) > 0.01;
        if (this.switch == true) {
            //for each color in the current color pattern
            this.current.forEach((color, index) => {
                // for each color channels of each color in the current color pattern
                color.forEach((channel, i) => {
                    this.current[index][i] = BGColor.getTransValue(channel, this.target[index][i]);
                });
            })
        }
    }

    static getTransValue(current, target) {
        let d = target - current;
        return Math.abs(d) > 0.01 ? current + (d) * 0.1 : target;
    }
    // static getTransColor(progress, start, end) { //RGB
    //     let r = start[0] + (end[0] - start[0]) * progress;
    //     let g = start[1] + (end[1] - start[1]) * progress;
    //     let b = start[2] + (end[2] - start[2]) * progress;
    //     return [r, g, b];
    // }
}

let mouse_xy = [0, 0];
let x = 0;
let y = 0;

let bgColor = new BGColor();
let defaultColIndex = Number(canvas.classList[1].slice(-1));
bgColor.setDefaultColor(defaultColIndex);

// check if element is in view
function inView(element) {
    var windowHeight = window.innerHeight;
    // get number of pixels that the document is scrolled
    var scrollY = window.scrollY || window.pageYOffset;
    // get current scroll position (distance from the top of the page to the bottom of the current viewport)
    var scrollPosition = scrollY + 1.3*windowHeight;// 
    // get element position (distance from the top of the page to the bottom of the element)
    var elementPosition = element.getBoundingClientRect().top + scrollY + element.clientHeight;
    // is scroll position greater than element position? (is element in view?)
    if (scrollPosition  > elementPosition - 0.5*element.clientHeight) {
        return true;
    }
    return false;
}

function updateBGColor() {
    projects.forEach((e, index) => {
        if (inView(e)) {
            console.log(index);
            bgColor.setTargetColor(index+1);
        }
    });
    if(!inView(projects[0])){
        bgColor.setTargetColor(0);
        console.log("setTargetColor(0)");
    }
}

async function main() {
    document.addEventListener('scroll', updateBGColor);
    document.addEventListener('mousemove', event => {
        mouse_xy = [event.clientX*0.6, event.clientY-90.];
    });

    // create the context
    const gl = canvas.getContext('webgl');
    //Source = await fetch("./shader.frag").then((r)=>r.text());
    const shaderProgram = initShaderProgram(gl, VS_SOURCE, FS_SOURCE);

    //////////////////////////////////////////////
    // query the shaders for attibute and uniform locations
    const vertex_position_location = gl.getAttribLocation(shaderProgram, 'aVertexPosition');
    const u_mouse_location = gl.getUniformLocation(shaderProgram, "u_mouse");
    const u_time_location = gl.getUniformLocation(shaderProgram, "u_time");
    const u_resolution_location = gl.getUniformLocation(shaderProgram, "u_resolution");
    const u_color1_location = gl.getUniformLocation(shaderProgram, "u_color1");
    const u_color2_location = gl.getUniformLocation(shaderProgram, "u_color2");
    const u_color3_location = gl.getUniformLocation(shaderProgram, "u_color3");


    //create the rectangle data, buffer it on video card
    //and tell the shaders about it
    const position_buffer = gl.createBuffer(); //分配一块显存（所谓的buffer）用来存储顶点数据
    gl.bindBuffer(gl.ARRAY_BUFFER, position_buffer);
    const positions = [
        1.0, 1.0, // // right top
        -1.0, 1.0, // // left top
        1.0, -1.0, // // right bottom
        -1.0, -1.0, // // left bottom
    ];
    gl.bufferData(gl.ARRAY_BUFFER, new Float32Array(positions), gl.STATIC_DRAW);
    gl.vertexAttribPointer(vertex_position_location, 2, gl.FLOAT, false, 0, 0);
    gl.enableVertexAttribArray(vertex_position_location);


    // configure gl
    gl.enable(gl.DEPTH_TEST);
    gl.depthFunc(gl.LEQUAL);

    // draw 

    // // clear the background
    gl.clearColor(0.0, 0.0, 0.0, 1.0);
    gl.clearDepth(1.0);
    gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT);

    // draw the geometry with our shaders
    gl.useProgram(shaderProgram);
    //gl.drawArrays(gl.TRIANGLE_STRIP, 0, 4);

    // set up animation loop
    let start_time = Date.now();

    function render() {
        // activate our program
        gl.useProgram(shaderProgram);

        // update uniforms
        let easing = 0.09;
        let dx = mouse_xy[0] - x;
        let dy = mouse_xy[1] - y;


        x = Math.abs(dx) > 0.05 ? x + dx * easing : mouse_xy[0];
        y = Math.abs(dx) > 0.05 ? y + dy * easing : mouse_xy[1];

        gl.uniform2fv(u_mouse_location, [x, y]);
        gl.uniform2fv(u_resolution_location, [window.innerWidth, window.innerHeight]);
        gl.uniform1f(u_time_location, (Date.now() - start_time) * .001);
        gl.uniform3fv(u_color1_location, [...bgColor.current[0]]);
        gl.uniform3fv(u_color2_location, [...bgColor.current[1]]);
        gl.uniform3fv(u_color3_location, [...bgColor.current[2]]);

        bgColor.update();

        // draw the geometry
        gl.drawArrays(gl.TRIANGLE_STRIP, 0, 4);
        requestAnimationFrame(render);
    }

    requestAnimationFrame(render);
}



//Easing Funnction
//https://spicyyoghurt.com/tools/easing-functions#easinglist


main();
</script></body></html>
